(()=>{function saveCanvasData(e,t=!1){const n=e.parentElement.querySelector(".signature-value");n.value=t?"":e.toDataURL(),n.dispatchEvent(new Event("change",{bubbles:!0}))}document.querySelectorAll(".signature-canvas").forEach((e=>{const t=e.getContext("2d");e.width=e.offsetWidth,e.height=e.offsetHeight;let n=!1,a=0,o=0;e.addEventListener("mousedown",(function(t){n=!0;let i=e.getBoundingClientRect();a=t.clientX-i.left,o=t.clientY-i.top})),e.addEventListener("mousemove",(function(i){if(n){let n=e.getBoundingClientRect(),c=i.clientX-n.left,l=i.clientY-n.top;!function(e,t,n,a,o){e.beginPath(),e.moveTo(t,n),e.lineTo(a,o),e.strokeStyle="#000",e.lineWidth=2,e.stroke(),e.closePath()}(t,a,o,c,l),a=c,o=l}})),e.addEventListener("mouseup",(function(){n=!1,saveCanvasData(e)})),e.addEventListener("mouseout",(function(){n=!1}))})),document.querySelectorAll(".signature-canvas-clear").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.parentElement.querySelector("canvas");t.getContext("2d").clearRect(0,0,t.width,t.height),saveCanvasData(t,!0)}))}))})();