const canvas=document.getElementById("signature-canvas");const ctx=canvas.getContext("2d");canvas.width=canvas.offsetWidth;canvas.height=canvas.offsetHeight;let isDrawing=false;let lastX=0;let lastY=0;canvas.addEventListener("mousedown",function(e){isDrawing=true;let rect=canvas.getBoundingClientRect();lastX=e.clientX-rect.left;lastY=e.clientY-rect.top});canvas.addEventListener("mousemove",function(e){if(isDrawing){let rect=canvas.getBoundingClientRect();let mouseX=e.clientX-rect.left;let mouseY=e.clientY-rect.top;drawLine(ctx,lastX,lastY,mouseX,mouseY);lastX=mouseX;lastY=mouseY}});canvas.addEventListener("mouseup",function(){isDrawing=false;saveCanvasData()});canvas.addEventListener("mouseout",function(){isDrawing=false});function drawLine(ctx,x1,y1,x2,y2){ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.strokeStyle="#000";ctx.lineWidth=2;ctx.stroke();ctx.closePath()}const clearButton=document.getElementById("signature-canvas-clear");clearButton.addEventListener("click",function(e){e.preventDefault();ctx.clearRect(0,0,canvas.width,canvas.height);saveCanvasData()});function saveCanvasData(){document.getElementById("signature").value=canvas.toDataURL()}