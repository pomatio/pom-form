(()=>{function e(e,t=!1){const n=e.parentElement.querySelector(".signature-value");n.value=t?"":e.toDataURL(),n.dispatchEvent(new Event("change",{bubbles:!0}))}document.querySelectorAll(".signature-canvas").forEach((t=>{const n=t.getContext("2d");t.width=t.offsetWidth,t.height=t.offsetHeight;let o=!1,i=0,c=0;t.addEventListener("mousedown",(function(e){o=!0;let n=t.getBoundingClientRect();i=e.clientX-n.left,c=e.clientY-n.top})),t.addEventListener("mousemove",(function(e){if(o){let o=t.getBoundingClientRect(),l=e.clientX-o.left,a=e.clientY-o.top;!function(e,t,n,o,i){e.beginPath(),e.moveTo(t,n),e.lineTo(o,i),e.strokeStyle="#000",e.lineWidth=2,e.stroke(),e.closePath()}(n,i,c,l,a),i=l,c=a}})),t.addEventListener("mouseup",(function(){o=!1,e(t)})),t.addEventListener("mouseout",(function(){o=!1}))})),document.querySelectorAll(".signature-canvas-clear").forEach((t=>{t.addEventListener("click",(function(t){t.preventDefault();const n=this.parentElement.querySelector("canvas");n.getContext("2d").clearRect(0,0,n.width,n.height),e(n,!0)}))}))})();