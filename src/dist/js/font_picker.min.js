jQuery((function(t){let n,e;const o={},applySelectedFont=function(t){const n=t.state().get("selection");if(!n||"function"!=typeof n.first)return;const o=n.first();if(!o)return;const r=o.toJSON();if(!(r&&r.url&&e&&e.length))return;const f=e.closest(".font-variant").find('input[type="url"]').first();f.length&&(f.val(r.url),t.close(),f.trigger("change"))};t(document).on("click",".open-font-picker",(function(r){r.preventDefault(),e=t(this);let f=e.data("mime-types");if("string"==typeof f)try{f=JSON.parse(f)}catch(t){f=null}const i="undefined"!=typeof pom_form_font_picker&&Array.isArray(pom_form_font_picker.mime_types)&&pom_form_font_picker.mime_types.length?pom_form_font_picker.mime_types:["font/woff2","font/woff","font/ttf"],p=Array.isArray(f)&&f.length?f:i,c=JSON.stringify(p);o[c]||(o[c]=wp.media({title:pom_form_font_picker.title,button:{text:pom_form_font_picker.button},multiple:!1,library:{type:p,pom_form_font_picker:!0}}),o[c].on("select",(function(){applySelectedFont(o[c])})),o[c].on("insert",(function(){applySelectedFont(o[c])}))),n=o[c],n.open()}))}));