jQuery((function(t){let n,e;const o={},applySelectedFont=function(t){const n=t.state().get("selection");if(!n||"function"!=typeof n.first)return;const o=n.first();if(!o)return;const r=o.toJSON();if(!(r&&r.url&&e&&e.length))return;const i=e.closest(".font-variant").find('input[type="url"]').first();i.length&&(i.val(r.url),t.close(),i.trigger("change"))};t(document).on("click",".open-font-picker",(function(r){r.preventDefault(),e=t(this);let i=e.data("mime-types");if("string"==typeof i)try{i=JSON.parse(i)}catch(t){i=null}const f="undefined"!=typeof pom_form_font_picker&&Array.isArray(pom_form_font_picker.mime_types)&&pom_form_font_picker.mime_types.length?pom_form_font_picker.mime_types:["font/woff2","font/woff","font/ttf"],c=Array.isArray(i)&&i.length?i:f,p=JSON.stringify(c);o[p]||(o[p]=wp.media({title:pom_form_font_picker.title,button:{text:pom_form_font_picker.button},multiple:!1,library:{type:c}}),o[p].on("select",(function(){applySelectedFont(o[p])})),o[p].on("insert",(function(){applySelectedFont(o[p])}))),n=o[p],n.open()}))}));